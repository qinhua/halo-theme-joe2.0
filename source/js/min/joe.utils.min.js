!function(n,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var a=i();for(var e in a)("object"==typeof exports?exports:n)[e]=a[e]}}(self,(function(){return(()=>{"use strict";var n={};(n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})})(n);var i=function n(i,a,e,t){!function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),this.name=i,this.description=a,this.category=e,this.style=t,this.extension=["tieba"].includes(e)?"gif":"png"},a=[new i("kuxiao","哭笑","haha"),new i("heng","哼","haha"),new i("guzhang","鼓掌","haha"),new i("haha","哈哈","haha"),new i("aini","爱你","haha"),new i("bazhang","巴掌","haha"),new i("beishang","悲伤","haha"),new i("han","汗","haha"),new i("deyi","得意","haha"),new i("ok","ok","haha"),new i("touxiao","偷笑","haha"),new i("wabikong","挖鼻孔","haha"),new i("weiqu","委屈","haha"),new i("weixiao","微笑","haha"),new i("huaixiao","坏笑","haha"),new i("woshou","握手","haha"),new i("wulian","捂脸","haha"),new i("xiaku","吓哭","haha"),new i("xiaoku","笑哭","haha"),new i("xixi","嘻嘻","haha"),new i("qinqin","亲亲","haha"),new i("qiwang","期望","haha"),new i("chanzui","馋嘴","haha"),new i("huaxin","花心","haha"),new i("hufen","互粉","haha"),new i("keai","可爱","haha"),new i("kelian","可怜","haha"),new i("bishi","鄙视","haha"),new i("bizui","闭嘴","haha"),new i("yep","耶","haha"),new i("zan","赞","haha"),new i("yihuo","疑惑","haha"),new i("yinxiao","阴笑","haha"),new i("yiwen","疑问","haha"),new i("bujiandan","不简单","haha"),new i("bye","拜拜","haha"),new i("chigua","吃瓜","haha"),new i("chijing","吃惊","haha"),new i("chuitou","锤头","haha"),new i("dahaqian","打哈欠","haha"),new i("fahuo","发火","haha"),new i("bang","棒","haha"),new i("gou","狗","haha"),new i("guolai","过来","haha"),new i("haixiu","害羞","haha"),new i("hashiiqi","哈士奇","haha"),new i("heixian","黑线","haha"),new i("kouzhao","口罩","haha"),new i("kulou","骷髅","haha"),new i("kun","困","haha"),new i("landelini","懒得理你","haha"),new i("mao","猫","haha"),new i("outu","呕吐","haha"),new i("qian","钱","haha"),new i("quantou","拳头","haha"),new i("shaoerbuyi","少儿不宜","haha"),new i("shayan","傻眼","haha"),new i("shengbing","生病","haha"),new i("tushetou","吐舌头","haha"),new i("shuijiao","睡觉","haha"),new i("sikao","思考","haha"),new i("shiwang","失望","haha"),new i("taikaixin","太开心","haha"),new i("tear","流泪","haha"),new i("tianping","舔屏","haha"),new i("xu","嘘","haha"),new i("youhengheng","右哼哼","haha"),new i("yun","晕","haha"),new i("zhouma","咒骂","haha"),new i("zhuakuang","抓狂","haha"),new i("zuohengheng","左哼哼","haha"),new i("zuoyi","作揖","haha")],e=[new i("baiyan","白眼","bilibili",{"animation-duration":"1800ms","animation-timing-function":"steps(45)",transform:"translateY(-1408px)",height:"1440px"}),new i("fadai","发呆","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new i("koubi","抠鼻","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new i("qinqin","亲亲","bilibili",{"animation-duration":"280ms","animation-timing-function":"steps(7)",transform:"translateY(-192px)",height:"224px"}),new i("weiqu","委屈","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("bishi","鄙视","bilibili",{"animation-duration":"360ms","animation-timing-function":"steps(9)",transform:"translateY(-256px)",height:"288px"}),new i("fanu","发怒","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new i("kun","困","bilibili",{"animation-duration":"1760ms","animation-timing-function":"steps(44)",transform:"translateY(-1376px)",height:"1408px"}),new i("se","色","bilibili",{"animation-duration":"400ms","animation-timing-function":"steps(10)",transform:"translateY(-288px)",height:"320px"}),new i("weixiao","微笑","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("bizui","闭嘴","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new i("ganga","尴尬","bilibili",{"animation-duration":"1520ms","animation-timing-function":"steps(38)",transform:"translateY(-1184px)",height:"1216px"}),new i("lengmo","冷漠","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("shengbing","生病","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new i("wunai","无奈","bilibili",{"animation-duration":"920ms","animation-timing-function":"steps(23)",transform:"translateY(-704px)",height:"736px"}),new i("chan","馋","bilibili",{"animation-duration":"1600ms","animation-timing-function":"steps(40)",transform:"translateY(-1248px)",height:"1280px"}),new i("guilian","鬼脸","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("liubixue","流鼻血","bilibili",{"animation-duration":"1400ms","animation-timing-function":"steps(35)",transform:"translateY(-1088px)",height:"1120px"}),new i("shengqi","生气","bilibili",{"animation-duration":"440ms","animation-timing-function":"steps(11)",transform:"translateY(-320px)",height:"352px"}),new i("xiaoku","笑哭","bilibili",{"animation-duration":"600ms","animation-timing-function":"steps(15)",transform:"translateY(-448px)",height:"480px"}),new i("daku","大哭","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new i("guzhang","鼓掌","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new i("liuhan","流汗","bilibili",{"animation-duration":"1080ms","animation-timing-function":"steps(27)",transform:"translateY(-832px)",height:"864px"}),new i("shuizhao","睡着","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new i("xieyanxiao","斜眼笑","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new i("dalao","大佬","bilibili",{"animation-duration":"1320ms","animation-timing-function":"steps(33)",transform:"translateY(-1024px)",height:"1056px"}),new i("haixiu","害羞","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px))",height:"992px"}),new i("liulei","流泪","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("sikao","思考","bilibili",{"animation-duration":"1440ms","animation-timing-function":"steps(36)",transform:"translateY(-1120px)",height:"1152px"}),new i("yiwen","疑问","bilibili",{"animation-duration":"840ms","animation-timing-function":"steps(21)",transform:"translateY(-640px)",height:"672px"}),new i("dalian","打脸","bilibili",{"animation-duration":"1480ms","animation-timing-function":"steps(37)",transform:"translateY(-1152px)",height:"1184px"}),new i("heirenwenhao","黑人问号","bilibili",{"animation-duration":"1040ms","animation-timing-function":"steps(26)",transform:"translateY(-800px)",height:"832px"}),new i("miantian","腼腆","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new i("tiaokan","调侃","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("yun","晕","bilibili",{"animation-duration":"480ms","animation-timing-function":"steps(12)",transform:"translateY(-352px)",height:"384px"}),new i("dianzan","点赞","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("huaixiao","坏笑","bilibili",{"animation-duration":"1240ms","animation-timing-function":"steps(31)",transform:"translateY(-960px)",height:"992px"}),new i("mudengkoudai","目瞪口呆","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("tiaopi","调皮","bilibili",{"animation-duration":"2000ms","animation-timing-function":"steps(50)",transform:"translateY(-1568px)",height:"1600px"}),new i("zaijian","再见","bilibili",{"animation-duration":"960ms","animation-timing-function":"steps(24)",transform:"translateY(-736px)",height:"768px"}),new i("doge","狗头","bilibili",{"animation-duration":"800ms","animation-timing-function":"steps(20)",transform:"translateY(-608px)",height:"640px"}),new i("jingxia","惊吓","bilibili",{"animation-duration":"1280ms","animation-timing-function":"steps(32)",transform:"translateY(-992px)",height:"1024px"}),new i("nanguo","难过","bilibili",{"animation-duration":"1120ms","animation-timing-function":"steps(28)",transform:"translateY(-864px)",height:"896px"}),new i("touxiao","偷笑","bilibili",{"animation-duration":"240ms","animation-timing-function":"steps(6)",transform:"translateY(-160px)",height:"192px"}),new i("zhoumei","皱眉","bilibili",{"animation-duration":"40ms","animation-timing-function":"steps(1)",transform:"translateY(-0px)",height:"32px"}),new i("facai","发财","bilibili",{"animation-duration":"1200ms","animation-timing-function":"steps(30)",transform:"translateY(-928px)",height:"960px"}),new i("keai","可爱","bilibili",{"animation-duration":"680ms","animation-timing-function":"steps(17)",transform:"translateY(-512px)",height:"544px"}),new i("outu","呕吐","bilibili",{"animation-duration":"1680ms","animation-timing-function":"steps(42)",transform:"translateY(-1312px)",height:"1344px"}),new i("tuxue","吐血","bilibili",{"animation-duration":"320ms","animation-timing-function":"steps(8)",transform:"translateY(-224px)",height:"256px"}),new i("zhuakuang","抓狂","bilibili",{"animation-duration":"760ms","animation-timing-function":"steps(19)",transform:"translateY(-576px)",height:"608px"})],t=[new i("tongue","吐舌","tieba"),new i("theblackline","尴尬","tieba"),new i("tear","大哭","tieba"),new i("surprised","惊哭","tieba"),new i("surprised2","惊讶","tieba"),new i("spray","喷","tieba"),new i("spit","呕吐","tieba"),new i("smilingeyes","笑眼","tieba"),new i("shui","睡觉","tieba"),new i("shame","羞辱","tieba"),new i("se","色","tieba"),new i("rmb","钱","tieba"),new i("reluctantly","勉强","tieba"),new i("rbq","观望","tieba"),new i("niconiconi","爱你","tieba"),new i("naive","天真","tieba"),new i("ku","酷","tieba"),new i("huaji","滑稽","tieba"),new i("hu","呼","tieba"),new i("han","汗","tieba"),new i("haha","哈哈","tieba"),new i("good","棒","tieba"),new i("doubt","疑惑","tieba"),new i("britan","茶","tieba"),new i("bbd","棒棒哒","tieba"),new i("awesome","强","tieba"),new i("anger","愤怒","tieba"),new i("aa","啊啊","tieba"),new i("happy","高兴","tieba"),new i("grievance","郁闷","tieba")],o=[new i("(⌒▽⌒)","(⌒▽⌒)","menhera"),new i("(￣▽￣)","(￣▽￣)","menhera"),new i("(=・ω・=)","(=・ω・=)","menhera"),new i("(｀・ω・´)","(｀・ω・´)","menhera"),new i("(〜￣△￣)〜","(〜￣△￣)〜","menhera"),new i("(･∀･)","(･∀･)","menhera"),new i("(°∀°)ﾉ","(°∀°)ﾉ","menhera"),new i("(￣3￣)","(￣3￣)","menhera"),new i("╮(￣▽￣)╭","╮(￣▽￣)╭","menhera"),new i("(´_ゝ｀)","(´_ゝ｀)","menhera"),new i("←_←","←_←","menhera"),new i("→_→","→_→","menhera"),new i("(<_<)","(<_<)","menhera"),new i("(>_>)","(>_>)","menhera"),new i("(;¬_¬)","(;¬_¬)","menhera"),new i("(▔□▔)/","(▔□▔)/","menhera"),new i("(ﾟДﾟ≡ﾟдﾟ)!?","(ﾟДﾟ≡ﾟдﾟ)!?","menhera"),new i("Σ(ﾟдﾟ;)","Σ(ﾟдﾟ;)","menhera"),new i("Σ(￣□￣||)","Σ(￣□￣||)","menhera"),new i("(’；ω；‘)","(’；ω；‘)","menhera"),new i("（/TДT)/","（/TДT)/","menhera"),new i("(^・ω・^ )","(^・ω・^ )","menhera"),new i("(｡･ω･｡)","(｡･ω･｡)","menhera"),new i("(●￣(ｴ)￣●)","(●￣(ｴ)￣●)","menhera"),new i("ε=ε=(ノ≧∇≦)ノ","ε=ε=(ノ≧∇≦)ノ","menhera"),new i("(’･_･‘)","(’･_･‘)","menhera"),new i("(-_-#)","(-_-#)","menhera"),new i("（￣へ￣）","（￣へ￣）","menhera"),new i("(￣ε(#￣)Σ","(￣ε(#￣)Σ","menhera"),new i("ヽ(‘Д’)ﾉ","ヽ(‘Д’)ﾉ","menhera"),new i("（#-_-)┯━┯","（#-_-)┯━┯","menhera"),new i("(╯°口°)╯(┴—┴","(╯°口°)╯(┴—┴","menhera"),new i("←◡←","←◡←","menhera"),new i("( ♥д♥)","( ♥д♥)","menhera"),new i("_(:3」∠)_","_(:3」∠)_","menhera"),new i("Σ>―(〃°ω°〃)♡→","Σ>―(〃°ω°〃)♡→","menhera"),new i("⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄","menhera"),new i("(╬ﾟдﾟ)▄︻┻┳═一","(╬ﾟдﾟ)▄︻┻┳═一","menhera"),new i("･*･:≡(　ε:)","･*･:≡(　ε:)","menhera"),new i("(笑)","(笑)","menhera"),new i("(汗)","(汗)","menhera"),new i("(泣)","(泣)","menhera"),new i("(苦笑)","(苦笑)","menhera")],r=[].concat(a,e,t,o),s={_version:"1.0.0",isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},timeAgo:function(n){if(!n)return"未知时间";n=new Date(n).getTime();var i=(new Date).getTime()-n,a=Math.floor(i/864e5);if(0===a){var e=i%864e5,t=Math.floor(e/36e5);if(0===t){var o=e%36e5,r=Math.floor(o/6e4);if(0===r){var h=o%6e4,m=Math.round(h/1e3);return m<1?"刚刚":m+" 秒前"}return r+" 分钟前"}return t+" 小时前"}return a<0?"刚刚":1===a?"昨天":s.formatDate(n,"yyyy年MM月dd日 hh:mm")},formatDate:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";n=new Date(n),/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds()};for(var e in a)if(new RegExp("(".concat(e,")")).test(i)){var t=a[e]+"";i=i.replace(RegExp.$1,1===RegExp.$1.length?t:t.padStart(2,"0"))}return i},getNavLangSub:function(){var n=navigator.language;return(n=n.substr(0,2))||(n=navigator.browserLanguage),n},request:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2?arguments[2]:void 0;return new Promise((function(e,t){$.ajax({url:"".concat(n,"?_r=").concat(Date.now()),type:i.toUpperCase(),headers:{"API-Authorization":ThemeConfig.access_key||"joe2.0"},async:!0,dataType:"json",timeout:1e4,data:a,success:function(n){200===n.status&&n.data?e(n.data):t(n)},error:function(n){var i=n&&n.responseJSON?n.responseJSON.message:"出错了！";Qmsg.error(i),t(i)}})}))},throttle:function(n){var i,a,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){var t=this,o=Array.prototype.slice.call(arguments),r=Date.now();a&&a+e>r?(clearTimeout(i),i=null,i=setTimeout((function(){a=r,n.apply(t,o)}),e)):(a=r,n.apply(t,o))}},sleep:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;return new Promise((function(i){return setTimeout(i,n)}))},setCookie:function(n,i,a){var e=n+s._version,t="";if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),t="; expires="+o.toUTCString()}document.cookie=e+"="+(i||"")+t+"; path=/"},getCookie:function(n){for(var i=n+s._version+"=",a=document.cookie.split(";"),e=0;e<a.length;e++){for(var t=a[e];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(i))return t.substring(i.length,t.length)}return null},removeCookie:function(n){var i=n+s._version+"=";document.cookie=i+"=; Max-Age=-99999999;"},setLocalStorage:function(n){function i(i,a){return n.apply(this,arguments)}return i.toString=function(){return n.toString()},i}((function(n,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3600,e=n+s._version,t=new Date;try{localStorage.setItem(e,JSON.stringify({expires:t.valueOf()+1e3*a,data:i}))}catch(e){"QuotaExceededError"===e.name&&(console.log("数据已满，自动清空"),localStorage.clear(),setLocalStorage(n,i,a))}})),getLocalStorage:function(n){var i=n+s._version,a=JSON.parse(localStorage.getItem(i)),e=new Date;return a&&a.expires>e?a.data:(localStorage.removeItem(i),null)},removeLocalStorage:function(n){var i=n+s._version;localStorage.removeItem(i)},loadJS:function(n,i){s._loadRes("script",n,i)},loadCSS:function(n,i){s._loadRes("link",n,i)},_loadRes:function(n,i,a){var e,t=a||function(){};switch(n){case"script":(e=document.createElement(n)).type="text/javascript",e.src=i;break;case"link":(e=document.createElement(n)).type="text/css",e.type="stylesheet",e.href=i;break;default:return void console.warn("暂不支持："+n+" 类型")}e.readyState?e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,t())}:e.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(e)},getRandomColor:function(){var n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i||(i=0),a||(a=0),i=isNaN(i)?0:Number(i),a=isNaN(a)?1:Number(a),i=Math.min(Math.max(Math.abs(i),0),1),a=(a=Math.min(Math.max(Math.abs(a),0),1))<i?1:a,"#"+(n=(16777216*(Math.random()*(a-i)+i)<<0).toString(16),new Array(7-n.length).join("0")+n)},removeClassByPrefix:function(n,i){var a=n.className.split(" ").filter((function(n){return 0!==n.lastIndexOf(i,0)}));n.className=a.join(" ").trim()},renderedEmojiHtml:function(n){var i=new DOMParser;return s.removeNotEmoji(i.parseFromString(n,"text/html")).body.innerHTML},trimTailBr:function(n){return n.replace(/((\s|&nbsp;)*\r?\n)+$/g,"")},limitBr:function(n){return n.replace(/((\s|&nbsp;)*\r?\n){3,}/g,"")},trimHeadBr:function(n){return n.replace(/^((\s|&nbsp;)*\r?\n)+/g,"")},removeNotEmoji:function(n){for(var i=n.getElementsByClassName("emoji-img"),a=!0,e=0;e<i.length;e++){var t=i[e].dataset.icon;if(!s.findEmoji("tieba",t)&&!s.findEmoji("haha",t)){a=!1;break}}if(a)return n;var o=i[0],r=o.dataset.icon;return s.findEmoji("tieba",r)||s.findEmoji("haha",r)||s.removeNode(o),s.removeNotEmoji(n)},removeNode:function(n){var i=n.getAttribute("alt"),a=document.createTextNode(i);n.parentNode.replaceChild(a,n)},findEmoji:function(n,i){return r.filter((function(a){return a.category===n&&a.name===i})).length>0},return2Br:function(n){return n=s.trimHeadBr(n),n=s.trimTailBr(n),s.limitBr(n)}};return window.Utils=s,n})()}));